<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Install Dotnet Di Termux Android</title>
<link rel="stylesheet" href="../style.css">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
.post{
  background-color: #f0f0f0;
  border: none;
  padding: 6px 12px;
  border-radius: 4px;
}
pre{
position:relative;
border:1px solid #aaa;
padding:8px;
margin: 5px;
background-color: #fff;
max-height:150px;
border-radius: 4px 0 4px 4px;
overflow:scroll;
margin-bottom:30px;
}
.pre{
border:1px solid #aaa;
padding:5px;
background-color: #fff;
border-radius: 4px 0 4px 4px;
white-space:pre-wrap;
overflow:scroll;
margin-bottom:30px;
}
.copy-btn {
float:right;
  cursor: pointer;
  font-size: 0.8em;
  background-color: #fefefe;
  border:1px solid #aaa;
  padding: 7px;
  border-radius: 0 4px 4px 0;
border-left:0;
}
</style>
</head>
<body>
<header>
<h1><a href="/">js3k.github.io</a></h1>
</header>
<div class="container">
<main>
<section>
<article>
<h3>Install dotnet di termux Android</h3>
<div class="post">
<p class="pre">
Siap kan alat pendukung untuk belajar web development di android..
1. <a href="../file/X-Plore.apk">X-Plore</a> wajib banget...
2. <a href="../file/QuickEdit.apk">Quick Edit+</a> wajib gak pake banget...
3. <a href="https://f-droid.org/repo/com.termux_1022.apk">Termux</a> wajib pake banget...
Instal Termux: Unduh dan instal aplikasi Termux dari penyedia resminya <a href="https://f-droid.org/repo/com.termux_1022.apk">F-Droid</a> di ponsel atau tablet Anda. 
</p>
Perbarui Termux: Buka Termux dan perbarui semua paket dengan perintah:
<div class="cd">
<pre>pkg upgrade</pre>
</div>
Beri ijin aplikasi termuk membaca memori perangkat:
<div class="cd">
<pre>termux-setup-storage</pre>
</div>
Instal proot-distro: Instal alat proot-distro yang memungkinkan Anda menjalankan distribusi Linux lain di dalam Termux:
<div class="cd">
<pre>pkg install proot-distro</pre>
</div>
Instal Distro Linux (Ubuntu): Instal distribusi Ubuntu menggunakan proot-distro:
<div class="cd">
<pre>proot-distro install ubuntu</pre>
</div>
Masuk ke Distro Ubuntu: Jalankan distro Ubuntu yang baru diinstal:
<div class="cd">
<pre>proot-distro login ubuntu</pre>
</div>
Perbarui Distro Linux: Setelah masuk ke lingkungan Ubuntu, perbarui daftar paket dan paket yang terinstal:
<div class="cd">
<pre>apt update && apt dist-upgrade</pre>
</div>
Buat memory ram agar tidak terjadi kesalahan saat install atau menjalan kan, selalu gunakan ini kalu mau menjalan kan dotnet:
<div class="cd">
<pre>export DOTNET_GCHeapHardLimit=0xC800000 
export COMPlus_EnableDiagnostics=0</pre>
</div>
Instal .NET SDK atau Runtime: Sekarang Anda bisa menginstal .NET. Pilih salah satu perintah berikut sesuai kebutuhan Anda:Untuk membuat aplikasi .NET (menginstal SDK):
<div class="cd">
<pre>apt install dotnet-sdk-8.0</pre>
</div>
Untuk menjalankan aplikasi yang sudah dibangun untuk .NET (menginstal runtime):
<div class="cd">
<pre>apt install dotnet-runtime-8.0</pre>
</div>
Cek apakah penginstallan dotnet sudah berhasil:
<div class="cd">
<pre>dotnet --info</pre>
</div>
Jika berhasil akan menunjukan info lengkap:
<p class="pre">root@localhost:~# dotnet --info
.NET SDK:
 Version:           8.0.119
 Commit:            ae38273ec4
 Workload version:  8.0.100-manifests.b3962286

Runtime Environment:
 OS Name:     ubuntu
 OS Version:  24.04
 OS Platform: Linux
 RID:         ubuntu.24.04-arm64
 Base Path:   /usr/lib/dotnet/sdk/8.0.119/

.NET workloads installed:
 Workload version: 8.0.100-manifests.b3962286
There are no installed workloads to display.

Host:
  Version:      8.0.19
  Architecture: arm64
  Commit:       fce8ed90dc

.NET SDKs installed:
  8.0.119 [/usr/lib/dotnet/sdk]

.NET runtimes installed:
  Microsoft.AspNetCore.App 8.0.19 [/usr/lib/dotnet/shared/Microsoft.AspNetCore.App]
  Microsoft.NETCore.App 8.0.19 [/usr/lib/dotnet/shared/Microsoft.NETCore.App]

Other architectures found:
  None

Environment variables:
  Not set

global.json file:
  Not found

Learn more:
  https://aka.ms/dotnet/info

Download .NET:
  https://aka.ms/dotnet/download</p>
Kalau info sudah lengkap seperti di atas, sekarang tinggal test buat web minimal api, ketik kan ini:
<div class="cd">
<pre>dotnet new web -o app </pre>
</div>
lalu masuk ke folder app
<div class="cd">
<pre>cd app</pre>
</div>
Setelah berada di folder app ketik ini
<div class="cd">
<pre>dotnet run</pre>
</div>
<p class="pre">
Tunggu proses sampai selesai. sampai muncul seperti ini..
root@localhost:~/app# dotnet run
Building...
info: Microsoft.Hosting.Lifetime[14]
      Now listening on: http://localhost:5249
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
info: Microsoft.Hosting.Lifetime[0]
      Content root path: /root/app
kalau udah selesai. berarti server net udah jalan. sobat bisa buka url di ststus
termux nya Dibawah Now listening on: 
Contoh . . . .
info: Microsoft.Hosting.Lifetime[14]
      Now listening on: 
<a href="http://localhost:5249">
http://localhost:5249</a>
ganti port 5249 sesuai port yang tampil di terminal termux...
kalau udah bisa di buka di browser berarri udah jalan.. 
silah kan close server net yang jalan. dengan klik ctrl+c untuk menghentikan server...  lalu ketik exit di terminal agar keluar dari proot ubuntu dan kembali ke home termux.

sampai sini sebenar nya udah selesai. 
namun untuk mempermudah dalam membangun project,
kita membutuh kan run build dll di memori perngkat  ok sekarang
kita keluar dari proot distro / dari termux untuk mulai langkah berikut nya.
ketik exit lalu enter untuk keluar dari proot distro ubuntu... 
agar lebih ringan termux nya ketik exit lalu enter keluar dari termux...
Lalu buka lagi aplikasi termux nya. 
Untuk bisa mengakses project app di memori perangkat, 
Agar proses edit/atau membangun project lebih mudah jika ada di 
memori perangkat, bisa di akses x-plore dan QuickEdit.. 
ikuti langkah berikut,
edit file .bashrc dengan cara:</p>
<div class="cd">
<pre>nano ~/.bashrc</pre>
</div>

Isi kode ini di .bashrc
<div class="cd">
<pre>
# Tambahkan ke ~/.bashrc di Termux
runawal() {
  echo ">> Login ke ubuntu"
  proot-distro login ubuntu <<EOF
  echo ">> Masuk ke folder app di termux."
  cd /app || exit
  export DOTNET_GCHeapHardLimit=0xC800000
  export COMPlus_EnableDiagnostics=0
  echo ">>Run & build app"
  dotnet run
  echo ">> Ketik cpapp untuk menyalin folder ke lokal"
EOF
}

cpapp() {
  echo ">> Login ke ubuntu + bind /app"
  proot-distro login ubuntu --bind /storage/emulated/0:/app <<EOF
  echo ">> Copy file project dari app ke web"
  cp -r app/ /app
  echo ">> Folder di salin. Buka file manager cari folder app"
EOF
}

run() {
  echo ">> Login ke ubuntu + bind /app"
  proot-distro login ubuntu --bind /storage/emulated/0/app:/app <<EOF
  echo ">> Menjalan kan dengan dotnet build"
  cd /app || exit
  export DOTNET_GCHeapHardLimit=0xC800000
  export COMPlus_EnableDiagnostics=0
  dotnet build
EOF
}

dll() {
  echo ">> Login ke ubuntu + bind /app"
  proot-distro login ubuntu --bind /storage/emulated/0/app:/app <<EOF
  echo ">> Menjalan kan dengan dotnet run"
  cd /app || exit
  export DOTNET_GCHeapHardLimit=0xC800000
  export COMPlus_EnableDiagnostics=0
  dotnet /app/bin/Debug/net8.0/app.dll
EOF
}

runs() {
  echo ">> Login ke ubuntu + bind /app"
  proot-distro login ubuntu --bind /storage/emulated/0/app:/app <<EOF
  echo ">> Menjalan kan dengan dotnet run"
  cd /app || exit
  export DOTNET_GCHeapHardLimit=0xC800000
  export COMPlus_EnableDiagnostics=0
  dotnet run
EOF
}

pub() {
  echo ">> Login ke Ubuntu + bind /pub"
  proot-distro login ubuntu --bind /storage/emulated/0/app:/app <<EOF
  echo ">> Publish project ke app/publish/"
  cd /app || exit
  export DOTNET_GCHeapHardLimit=0xC800000
  export COMPlus_EnableDiagnostics=0
  dotnet publish -c Release -o ./publish/
  echo "✅ Publish selesai!"
EOF
}

wpub() {
  echo ">> Login ke Ubuntu + bind /pub"
  proot-distro login ubuntu --bind /storage/emulated/0:/pub <<EOF
  echo ">> Masuk ke folder ~/web"
  cd ~/web || { echo "Folder ~/web tidak ditemukan"; exit 1; }
  echo ">> Publish project ke ~/appub"
  export DOTNET_GCHeapHardLimit=0xC800000
  export COMPlus_EnableDiagnostics=0
  dotnet publish -c Release -r win-x86 --self-contained -o ~/publish/
  echo ">> Mundur ke root sebelum cd ../"
  cd ~
  echo ">> Copy hasil publish ke appub "
  mv publish/ /pub/
  echo "✅ Publish selesai!"
EOF
}

</pre>
</div>
restart server .bashrc
<div class="cd">
<pre>source ~/.bashrc</pre>
</div>
<p class="pre">
Ada beberapa Fungsi Shortcut dari .bashrc....
1. runawal > untuk menjalan kan project di folder app di dalam aplikasi termux jalan kan hanya kali pertama kalau app belum pernah di run..

2. cpapp > untuk menyalin folder app dari penyimpanan app termux ke local storage..

🏁
3. run > untuk menerap kan perubahan setelah kita mengedit program.cs membangun website dan lain lain,
setelah mengedit program cs selalu gunakan run untuk menyimpan ke project aktif/menerap kan perubahan

3. dll > untuk menjalan kan server, debuging atau menjalan kan project, di localhost. 
ketik dll lalu enter setelah jala,
lalu kunjungi di browser <a href="http://127.0.0.1:5000">http://127.0.0.1:5000</a> atau <a href="http://localhost:5000">http://localhost:5000</a>
🏁

4. pub > Publish project untuk di upload ke hosting .. hasil publish ada di folder app/publish tengok di memori perangkat dengan x plore..

5. winpub > untuk publish project dengan selfcontained. tapi ukuran lebih besar namun tidak tergantung pada runtim server...

untuk memulai ketik cpapp di termux, lalu enter. klo proses nya selesai.
buka aplikasi x-plore buka internal storage cari folder app, buka file program.cs dengan quick edit+ untuk mengedit...
setelah selesai klik simpan di dalam editor quick edit+ 
minimal kan buka termux klik run lalu enter tunggu proses selesai....
kalo udah selesai klik dll untuk menjalan kan di localhost... kunjungi http://127.0.0.1:5000 atau http://localhost:5000 di browser. 
klo udah sesuai project nya.  klik ctrl+c untuk stop server...
ketik pub untuk publish, hasil publish ada di folder app/publish upload ke hosting semua isi file dari folder [ publish ].....

Perhatian untuk runawal,cpapp,itu hanya stup awal sekali saja. tak di gunakan lagi jika folder project udah ada di penyimpanan lokal, terbaca dengan filemanager dengan x plore, dengan quick editor..  setelah itu hanya run dan dll saja setiap selesai membanngun project intuk menerap kan perubahan...
pub untuk publish jika project selesai di bangun dan siap di upload...

selalu di ingat untuk menerap kan perubahan setelah mengedit project di folder app di local storage. selalu gunakan run di trmux dan dll untuk menjalan kan hasil lalu buka di browser <a href="http://127.0.0.1:5000">http://127.0.0.1:5000</a> jreng perubahan akan tampil. untuk stop server di termux ketik ctrl+c  
</p>
</div>
</article>
</section>
<aside>
<iframe src='https://src.runasp.net/komen/a15' style='width:100%;height:100vh;border:none;'></iframe>
</aside>
</main>
</div>
<footer>
&copy; 2025  by Andi.
</footer>
</body>
</html>
<script>
document.querySelectorAll('pre').forEach((pre, index) => {
  // Buat tombol copy
  const btn = document.createElement('button');
btn.textContent = '📝Copy';
btn.classList.add('copy-btn');
pre.parentNode.insertBefore(btn, pre);

  // Copy logic
  btn.addEventListener('click', () => {
    const text = pre.textContent;
    navigator.clipboard.writeText(text).then(() => {
      btn.textContent = 'Copied!';
      setTimeout(() => btn.textContent = '📝Copy', 1500);
    }).catch(err => {
      console.error('Clipboard error:', err);
      btn.textContent = 'Failed';
    });
  });
});

</script>
